// ==========================================================================
// Project:  Ember Data
// Copyright: Â©2011 Living Social Inc. and contributors.
// License:   Licensed under MIT license (see license.js)
// ==========================================================================


(function(a){window.DS=Ember.Namespace.create()})({}),function(a){DS.Adapter=Ember.Object.extend({commit:function(a,b){b.updated.eachType(function(b,c){this.updateRecords(a,b,c.slice())},this),b.created.eachType(function(b,c){this.createRecords(a,b,c.slice())},this),b.deleted.eachType(function(b,c){this.deleteRecords(a,b,c.slice())},this)},createRecords:function(a,b,c){c.forEach(function(c){this.createRecord(a,b,c)},this)},updateRecords:function(a,b,c){c.forEach(function(c){this.updateRecord(a,b,c)},this)},deleteRecords:function(a,b,c){c.forEach(function(c){this.deleteRecord(a,b,c)},this)},findMany:function(a,b,c){c.forEach(function(c){this.find(a,b,c)},this)}})}({}),function(a){DS.fixtureAdapter=DS.Adapter.create({find:function(a,b,c){var d=b.FIXTURES;if(d.hasLoaded)return;setTimeout(function(){a.loadMany(b,d),d.hasLoaded=!0},300)},findMany:function(){this.find.apply(this,arguments)},findAll:function(a,b){var c=b.FIXTURES,d=c.map(function(a,b,c){return a.id});a.loadMany(b,d,c)}})}({}),function(a){var b=Ember.get,c=Ember.set,d=Ember.getPath;DS.RESTAdapter=DS.Adapter.extend({createRecord:function(a,c,d){var e=this.rootForType(c),f={};f[e]=b(d,"data"),this.ajax("/"+this.pluralize(e),"POST",{data:f,success:function(b){a.didCreateRecord(d,b[e])}})},createRecords:function(a,c,d){if(b(this,"bulkCommit")===!1)return this._super(a,c,d);var e=this.rootForType(c),f=this.pluralize(e),g={};g[f]=d.map(function(a){return b(a,"data")}),this.ajax("/"+this.pluralize(e),"POST",{data:g,success:function(b){a.didCreateRecords(c,d,b[f])}})},updateRecord:function(a,c,d){var e=b(d,"id"),f=this.rootForType(c),g={};g[f]=b(d,"data");var h=["",this.pluralize(f),e].join("/");this.ajax(h,"PUT",{data:g,success:function(b){a.didUpdateRecord(d,b[f])}})},updateRecords:function(a,c,d){if(b(this,"bulkCommit")===!1)return this._super(a,c,d);var e=this.rootForType(c),f=this.pluralize(e),g={};g[f]=d.map(function(a){return b(a,"data")}),this.ajax("/"+this.pluralize(e),"POST",{data:g,success:function(b){a.didUpdateRecords(d,b[f])}})},deleteRecord:function(a,c,d){var e=b(d,"id"),f=this.rootForType(c),g=["",this.pluralize(f),e].join("/");this.ajax(g,"DELETE",{success:function(b){a.didDeleteRecord(d)}})},deleteRecords:function(a,c,d){if(b(this,"bulkCommit")===!1)return this._super(a,c,d);var e=this.rootForType(c),f=this.pluralize(e),g={};g[f]=d.map(function(a){return b(a,"id")}),this.ajax("/"+this.pluralize(e)+"/delete","POST",{data:g,success:function(b){a.didDeleteRecords(d)}})},find:function(a,b,c){var d=this.rootForType(b),e=["",this.pluralize(d),c].join("/");this.ajax(e,"GET",{success:function(c){a.load(b,c[d])}})},findMany:function(a,b,c){var d=this.rootForType(b),e=this.pluralize(d);this.ajax("/"+e,"GET",{data:{ids:c},success:function(d){a.loadMany(b,c,d[e])}})},findAll:function(a,b){var c=this.rootForType(b),d=this.pluralize(c);this.ajax("/"+d,"GET",{success:function(c){a.loadMany(b,c[d])}})},findQuery:function(a,b,c,d){var e=this.rootForType(b),f=this.pluralize(e);this.ajax("/"+f,"GET",{data:c,success:function(a){d.load(a[f])}})},plurals:{},pluralize:function(a){return this.plurals[a]||a+"s"},rootForType:function(a){if(a.url)return a.url;var b=a.toString().split("."),c=b[b.length-1];return c.replace(/([A-Z])/g,"_$1").toLowerCase().slice(1)},ajax:function(a,b,c){c.url=a,c.type=b,c.dataType="json",jQuery.ajax(c)}})}({}),function(a){var b=Ember.get,c=Ember.set;DS.ModelArray=Ember.ArrayProxy.extend({type:null,content:null,store:null,parentModel:null,init:function(){c(this,"modelCache",Ember.A([])),this._super()},replace:function(a,c,d){var e=b(this,"parentRecord"),f=e&&!b(e,"id");d=d.map(function(a){return f&&a.send("waitingOn",e),a.get("clientId")}),this._super(a,c,d)},arrayDidChange:function(a,c,d,e){var f=b(this,"modelCache");f.replace(c,0,new Array(e)),this._super(a,c,d,e)},arrayWillChange:function(a,c,d,e){this._super(a,c,d,e);var f=b(this,"modelCache");f.replace(c,d)},objectAtContent:function(a){var c=b(this,"modelCache"),d=c.objectAt(a);if(!d){var e=b(this,"store"),f=b(this,"content"),g=f.objectAt(a);g!==undefined&&(d=e.findByClientId(b(this,"type"),g),c.replace(a,1,[d]))}return d}})}({}),function(a){var b=Ember.get;DS.FilteredModelArray=DS.ModelArray.extend({filterFunction:null,updateFilter:Ember.observer(function(){var a=b(this,"store");a.updateModelArrayFilter(this,b(this,"type"),b(this,"filterFunction"))},"filterFunction")})}({}),function(a){var b=Ember.get,c=Ember.set;DS.AdapterPopulatedModelArray=DS.ModelArray.extend({query:null,isLoaded:!1,load:function(a){var d=b(this,"store"),e=b(this,"type"),f=d.loadMany(e,a).clientIds;this.beginPropertyChanges(),c(this,"content",Ember.A(f)),c(this,"isLoaded",!0),this.endPropertyChanges()}})}({}),function(a){}({}),function(a){var b=Ember.get,c=Ember.set,d=Ember.getPath,e=Ember.String.fmt,f=Ember.Object.extend({init:function(){this.clear()},clear:function(){this.set("presenceSet",{}),this.set("list",Ember.NativeArray.apply([]))},add:function(a){var c=Ember.guidFor(a),d=b(this,"presenceSet"),e=b(this,"list");if(c in d)return;d[c]=!0,e.pushObject(a)},remove:function(a){var c=Ember.guidFor(a),d=b(this,"presenceSet"),e=b(this,"list");delete d[c],e.removeObject(a)},isEmpty:function(){return d(this,"list.length")===0},forEach:function(a,c){b(this,"list").slice().forEach(function(b){a.call(c,b)})},toArray:function(){return b(this,"list").slice()}}),g=Ember.Object.extend({init:function(){c(this,"keys",f.create()),c(this,"values",{})},add:function(a,c){var d=b(this,"keys"),e=b(this,"values"),f=Ember.guidFor(a);return d.add(a),e[f]=c,c},remove:function(a){var c=b(this,"keys"),d=b(this,"values"),e=Ember.guidFor(a),f;return c.remove(a),f=d[e],delete d[e],f},fetch:function(a){var c=b(this,"values"),d=Ember.guidFor(a);return c[d]},forEach:function(a,c){var d=b(this,"keys"),e=b(this,"values");d.forEach(function(b){var d=Ember.guidFor(b);a.call(c,b,e[d])})}});DS.Transaction=Ember.Object.extend({init:function(){c(this,"dirty",{created:g.create(),updated:g.create(),deleted:g.create()})},createRecord:function(a,c){var d=b(this,"store");return d.createRecord(a,c,this)},add:function(a){var e=b(a,"transaction"),f=d(this,"store.defaultTransaction");c(a,"transaction",this)},modelBecameDirty:function(a,c){var d=b(b(this,"dirty"),a),e=c.constructor,g=d.fetch(e);g=g||d.add(e,f.create()),g.add(c)},modelBecameClean:function(a,e){var f=b(b(this,"dirty"),a),g=e.constructor,h=d(this,"store.defaultTransaction"),i=f.fetch(g);i.remove(e),c(e,"transaction",h)},commit:function(){var a=b(this,"dirty"),c=function(c,d,e){var f=b(a,c);f.forEach(function(a,c){if(c.isEmpty())return;var f=[];c.forEach(function(a){a.send("willCommit"),b(a,"isPending")===!1&&f.push(a)}),d.call(e,a,f)})},d={updated:{eachType:function(a,b){c("updated",a,b)}},created:{eachType:function(a,b){c("created",a,b)}},deleted:{eachType:function(a,b){c("deleted",a,b)}}},f=b(this,"store"),g=b(f,"_adapter");if(g&&g.commit)g.commit(f,d);else throw e("Adapter is either null or do not implement `commit` method",this)}})}({}),function(a){var b=Ember.get,c=Ember.set,d=Ember.getPath,e=Ember.String.fmt,f=Ember.Object.extend({init:function(){this.clear()},clear:function(){this.set("presenceSet",{}),this.set("list",Ember.NativeArray.apply([]))},add:function(a){var c=Ember.guidFor(a),d=b(this,"presenceSet"),e=b(this,"list");if(c in d)return;d[c]=!0,e.pushObject(a)},remove:function(a){var c=Ember.guidFor(a),d=b(this,"presenceSet"),e=b(this,"list");delete d[c],e.removeObject(a)},isEmpty:function(){return d(this,"list.length")===0},forEach:function(a,c){b(this,"list").forEach(function(b){a.call(c,b)})}});DS.Store=Ember.Object.extend({init:function(){return(!b(DS,"defaultStore")||b(this,"isDefaultStore"))&&c(DS,"defaultStore",this),c(this,"data",[]),c(this,"_typeMap",{}),c(this,"recordCache",[]),c(this,"modelArrays",[]),c(this,"modelArraysByClientId",{}),c(this,"defaultTransaction",this.transaction()),this._super()},transaction:function(){return DS.Transaction.create({store:this})},modelArraysForClientId:function(a){var c=b(this,"modelArraysByClientId"),d=c[a];return d||(d=c[a]=f.create()),d},adapter:null,_adapter:Ember.computed(function(){var a=b(this,"adapter");return typeof a=="string"?d(this,a,!1)||d(window,a):a}).property("adapter").cacheable(),clientIdCounter:-1,createRecord:function(a,d,e){d=d||{};var f=a._create({store:this,transaction:e||b(this,"defaultTransaction")}),g=d[b(f,"primaryKey")]||null,h={},i;i=this.pushHash(h,g,a),f.send("setData",h);var j=b(this,"recordCache");return c(f,"clientId",i),j[i]=f,f.setProperties(d),this.updateModelArrays(a,i,h),f},deleteRecord:function(a){a.send("deleteRecord")},find:function(a,b,c){if(b===undefined)return this.findAll(a);if(c!==undefined)return this.findMany(a,b,c);if(Ember.typeOf(b)==="object")return this.findQuery(a,b);if(Ember.isArray(b))return this.findMany(a,b);var d=this.clientIdForId(a,b);return this.findByClientId(a,d,b)},findByClientId:function(a,c,d){var f,g=b(this,"recordCache"),h=this.clientIdToHashMap(a);if(c!==undefined)f=g[c],f||(f=this.materializeRecord(a,c),f.send("setData",h[c]||null));else{c=this.pushHash(null,d,a),f=this.materializeRecord(a,c);var i=b(this,"_adapter");if(i&&i.find)i.find(this,a,d);else throw e("Adapter is either null or does not implement `find` method",this)}return f},findMany:function(a,c,d){var f=this.idToClientIdMap(a),g=this.clientIdToHashMap(a),h,i=Ember.A([]);c?(h=[],c.forEach(function(b){var c=f[b];if(c===undefined||g[c]===undefined)c=this.pushHash(null,b,a),h.push(b);i.push(c)},this)):h=null;if(h&&b(h,"length")>0||d){var j=b(this,"_adapter");if(j&&j.findMany)j.findMany(this,a,h,d);else throw e("Adapter is either null or does not implement `findMany` method",this)}return this.createModelArray(a,i)},findQuery:function(a,c){var d=DS.AdapterPopulatedModelArray.create({type:a,content:Ember.A([]),store:this}),f=b(this,"_adapter");if(f&&f.findQuery)f.findQuery(this,a,c,d);else throw e("Adapter is either null or does not implement `findQuery` method",this);return d},findAll:function(a){var c=this.typeMapFor(a),d=c.findAllCache;if(d)return d;var e=DS.ModelArray.create({type:a,content:Ember.A([]),store:this});this.registerModelArray(e,a);var f=b(this,"_adapter");return f&&f.findAll&&f.findAll(this,a),c.findAllCache=e,e},filter:function(a,b){var c=DS.FilteredModelArray.create({type:a,content:Ember.A([]),store:this,filterFunction:b});return this.registerModelArray(c,a,b),c},hashWasUpdated:function(a,b){var c=this.clientIdToHashMap(a),d=c[b];this.updateModelArrays(a,b,d)},commit:function(){var a=b(this,"defaultTransaction");c(this,"defaultTransaction",this.transaction()),a.commit()},didUpdateRecords:function(a,b){arguments.length===2?a.forEach(function(a,c){this.didUpdateRecord(a,b[c])},this):a.forEach(function(a){this.didUpdateRecord(a)},this)},didUpdateRecord:function(a,c){if(arguments.length===2){var d=b(a,"clientId"),e=this.clientIdToHashMap(a.constructor);e[d]=c,a.send("setData",c)}a.send("didCommit")},didDeleteRecords:function(a){a.forEach(function(a){a.send("didCommit")})},didDeleteRecord:function(a){a.send("didCommit")},didCreateRecords:function(a,c,e){var f,g,h=d(a,"proto.primaryKey"),i=this.idToClientIdMap(a),j=this.clientIdToHashMap(a),k=this.idList(a);for(var l=0,m=b(c,"length");l<m;l++){var n=c[l],o=e[l];f=o[h],g=b(n,"clientId"),j[g]=o,n.send("setData",o),i[f]=g,k.push(f),n.send("didCommit")}},didCreateRecord:function(a,e){var f=a.constructor,g,h,i,j=this.idToClientIdMap(f),k=this.clientIdToHashMap(f),l=this.idList(f);i=d(f,"proto.primaryKey"),!e,arguments.length===2&&(g=e[i],k[h]=e,c(a,"data",e)),h=b(a,"clientId"),j[g]=h,l.push(g),a.send("didCommit")},recordWasInvalid:function(a,b){a.send("becameInvalid",b)},registerModelArray:function(a,c,d){var e=b(this,"modelArrays");e.push(a),this.updateModelArrayFilter(a,c,d)},createModelArray:function(a,b){var c=DS.ModelArray.create({type:a,content:b,store:this});return b.forEach(function(a){var b=this.modelArraysForClientId(a);b.add(c)},this),c},updateModelArrayFilter:function(a,b,c){var d=this.clientIdToHashMap(b),e=this.clientIdList(b),f,g;for(var h=0,i=e.length;h<i;h++)f=e[h],g=d[f],g&&this.updateModelArray(a,c,b,f,g)},updateModelArrays:function(a,c,d){var e=b(this,"modelArrays"),f,g;e.forEach(function(e){f=b(e,"type"),g=b(e,"filterFunction");if(a!==f)return;this.updateModelArray(e,g,a,c,d)},this)},updateModelArray:function(a,c,d,e,f){var g;c?g=c(f):g=!0;var h=b(a,"content"),i=h.indexOf(e)!==-1,j=this.modelArraysForClientId(e);g&&!i?(j.add(a),h.pushObject(e)):!g&&i&&(j.remove(a),h.removeObject(e))},removeFromModelArrays:function(a){var c=b(a,"clientId"),d=this.modelArraysForClientId(c);d.forEach(function(a){var d=b(a,"content");d.removeObject(c)})},typeMapFor:function(a){var c=b(this,"_typeMap"),d=Ember.guidFor(a),e=c[d];return e?e:c[d]={idToCid:{},idList:[],cidList:[],cidToHash:{}}},idToClientIdMap:function(a){return this.typeMapFor(a).idToCid},idList:function(a){return this.typeMapFor(a).idList},clientIdList:function(a){return this.typeMapFor(a).cidList},clientIdToHashMap:function(a){return this.typeMapFor(a).cidToHash},clientIdForId:function(a,b){return this.typeMapFor(a).idToCid[b]},idForHash:function(a,b){var c=d(a,"proto.primaryKey");return b[c]},load:function(a,c,e){if(e===undefined){e=c;var f=d(a,"proto.primaryKey");c=e[f]}var g=this.clientIdToHashMap(a),h=b(this,"recordCache"),i=this.clientIdForId(a,c);if(i!==undefined){g[i]=e;var j=h[i];j&&j.send("setData",e)}else i=this.pushHash(e,c,a);return this.updateModelArrays(a,i,e),{id:c,clientId:i}},loadMany:function(a,c,e){var f=Ember.A([]);if(e===undefined){e=c,c=[];var g=d(a,"proto.primaryKey");c=e.map(function(a){return a[g]})}for(var h=0,i=b(c,"length");h<i;h++){var j=this.load(a,c[h],e[h]);f.pushObject(j.clientId)}return{clientIds:f,ids:c}},pushHash:function(a,b,c){var d=this.idToClientIdMap(c),e=this.clientIdList(c),f=this.idList(c),g=this.clientIdToHashMap(c),h=this.incrementProperty("clientIdCounter");return g[h]=a,b&&(d[b]=h,f.push(b)),e.push(h),h},materializeRecord:function(a,d){var e;return b(this,"recordCache")[d]=e=a._create({store:this,clientId:d,transaction:b(this,"defaultTransaction")}),c(e,"clientId",d),e.send("loadingData"),e},destroy:function(){return b(DS,"defaultStore")===this&&c(DS,"defaultStore",null),this._super()}})}({}),function(a){var b=Ember.get,c=Ember.set,d=Ember.getPath,e=Ember.guidFor,f=Ember.computed(function(a){var c=b(this,"parentState");if(c)return b(c,a)}).property(),g=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0};DS.State=Ember.State.extend({isLoaded:f,isDirty:f,isSaving:f,isDeleted:f,isError:f,isNew:f,isValid:f,isPending:f,dirtyType:f});var g=function(a){for(var b in a){if(!a.hasOwnProperty(b))continue;return!1}return!0},h=function(a,c){var d=c.key,e=c.value,f=b(a,"model"),g=b(f,"data");g[d]=e,Ember.run.once(f,f.notifyHashWasUpdated)},i=function(a,c){var d=b(a,"model"),f=b(d,"pendingQueue"),g=e(c),h=function(){b(c,"id")&&(a.send("doneWaitingOn",c),Ember.removeObserver(c,"id",h))};f[g]=[c,h],Ember.addObserver(c,"id",h)},j=DS.State.extend({initialState:"uncommitted",isDirty:!0,uncommitted:DS.State.extend({enter:function(a){var c=b(this,"dirtyType"),d=b(a,"model");d.withTransaction(function(a){a.modelBecameDirty(c,d)})},exit:function(a){var c=b(a,"model");a.send("invokeLifecycleCallbacks",c)},setProperty:h,deleteRecord:function(a){a.goToState("deleted")},waitingOn:function(a,b){i(a,b),a.goToState("pending")},willCommit:function(a){a.goToState("inFlight")}}),inFlight:DS.State.extend({isSaving:!0,enter:function(a){var c=b(this,"dirtyType"),d=b(a,"model");d.withTransaction(function(a){a.modelBecameClean(c,d)})},didCommit:function(a){a.goToState("loaded")},becameInvalid:function(a,d){var e=b(a,"model");c(e,"errors",d),a.goToState("invalid")},setData:function(a,d){var e=b(a,"model");c(e,"data",d)}}),pending:DS.State.extend({initialState:"uncommitted",isPending:!0,uncommitted:DS.State.extend({setProperty:h,deleteRecord:function(a){var c=b(a,"model"),d=b(c,"pendingQueue"),e;for(var f in d){if(!d.hasOwnProperty(f))continue;e=d[f],Ember.removeObserver(e[0],"id",e[1])}a.goToState("deleted")},willCommit:function(a){a.goToState("committing")},doneWaitingOn:function(a,c){var d=b(a,"model"),f=b(d,"pendingQueue"),h=e(c);delete f[h],g(f)&&a.send("doneWaiting")},doneWaiting:function(a){var c=b(this,"dirtyType");a.goToState(c+".uncommitted")}}),committing:DS.State.extend({isSaving:!0,doneWaitingOn:function(a,c){var d=b(a,"model"),f=b(d,"pendingQueue"),h=e(c);delete f[h],g(f)&&a.send("doneWaiting")},doneWaiting:function(a){var c=b(a,"model"),d=b(c,"transaction");Ember.run.once(d,d.commit)},willCommit:function(a){var c=b(this,"dirtyType");a.goToState(c+".inFlight")}})}),invalid:DS.State.extend({isValid:!1,deleteRecord:function(a){a.goToState("deleted")},setProperty:function(a,c){h(a,c);var d=b(a,"model"),e=b(d,"errors"),f=c.key;delete e[f],g(e)&&a.send("becameValid")},becameValid:function(a){a.goToState("uncommitted")}})}),k={rootState:Ember.State.create({isLoaded:!1,isDirty:!1,isSaving:!1,isDeleted:!1,isError:!1,isNew:!1,isValid:!0,isPending:!1,empty:DS.State.create({loadingData:function(a){a.goToState("loading")},setData:function(a,d){var e=b(a,"model");c(e,"data",d),a.goToState("loaded.created")}}),loading:DS.State.create({exit:function(a){var c=b(a,"model");c.didLoad()},setData:function(a,d){var e=b(a,"model");e.beginPropertyChanges(),c(e,"data",d),d!==null&&a.send("loadedData"),e.endPropertyChanges()},loadedData:function(a){a.goToState("loaded")}}),loaded:DS.State.create({initialState:"saved",isLoaded:!0,saved:DS.State.create({setProperty:function(a,b){h(a,b),a.goToState("updated")},deleteRecord:function(a){a.goToState("deleted")},waitingOn:function(a,b){i(a,b),a.goToState("updated.pending")}}),created:j.create({dirtyType:"created",isNew:!0,invokeLifecycleCallbacks:function(a,b){b.didCreate()}}),updated:j.create({dirtyType:"updated",invokeLifecycleCallbacks:function(a,b){b.didUpdate()}})}),deleted:DS.State.create({isDeleted:!0,isLoaded:!0,isDirty:!0,enter:function(a){var c=b(a,"model"),d=b(c,"store");d&&d.removeFromModelArrays(c),c.withTransaction(function(a){a.modelBecameDirty("deleted",c)})},start:DS.State.create({willCommit:function(a){a.goToState("inFlight")}}),inFlight:DS.State.create({isSaving:!0,exit:function(a){var c=b(a,"model");c.withTransaction(function(a){a.modelBecameClean("deleted",c)})},didCommit:function(a){a.goToState("saved")}}),saved:DS.State.create({isDirty:!1})}),error:DS.State.create({isError:!0})})};DS.StateManager=Ember.StateManager.extend({model:null,initialState:"rootState",states:k})}({}),function(a){var b=Ember.get,c=Ember.set,d=Ember.getPath,e=Ember.computed(function(a){return b(d(this,"stateManager.currentState"),a)}).property("stateManager.currentState").cacheable();DS.Model=Ember.Object.extend({isLoaded:e,isDirty:e,isSaving:e,isDeleted:e,isError:e,isNew:e,isPending:e,isValid:e,clientId:null,transaction:null,primaryKey:"id",id:Ember.computed(function(a,d){var e=b(this,"primaryKey"),f=b(this,"data");return arguments.length===2?(c(f,e,d),d):f&&b(f,e)}).property("primaryKey","data"),data:null,pendingQueue:null,errors:null,didLoad:Ember.K,didUpdate:Ember.K,didCreate:Ember.K,init:function(){var a=DS.StateManager.create({model:this});c(this,"pendingQueue",{}),c(this,"stateManager",a),a.goToState("empty")},destroy:function(){b(this,"isDeleted")||this.deleteRecord(),this._super()},send:function(a,c){return b(this,"stateManager").send(a,c)},withTransaction:function(a){var c=b(this,"transaction");c&&a(c)},setProperty:function(a,b){this.send("setProperty",{key:a,value:b})},deleteRecord:function(){this.send("deleteRecord")},waitingOn:function(a){this.send("waitingOn",a)},notifyHashWasUpdated:function(){var a=b(this,"store");a&&a.hashWasUpdated(this.constructor,b(this,"clientId"))},unknownProperty:function(a){var c=b(this,"data");!(c&&a in c)},setUnknownProperty:function(a,c){var d=b(this,"data");if(!(d&&a in d))return this._super(a,c)}});var f=function(a){return function(){var c=b(DS,"defaultStore"),d=[].slice.call(arguments);return d.unshift(this),c[a].apply(c,d)}};DS.Model.reopenClass({find:f("find"),filter:f("filter"),_create:DS.Model.create,create:function(){throw new Ember.Error("You should not call `create` on a model. Instead, call `createRecord` with the attributes you would like to set.")},createRecord:f("createRecord")})}({}),function(a){var b=Ember.get,c=Ember.getPath;DS.attr=function(a,c){var d=DS.attr.transforms[a],e=d.from,f=d.to;return Ember.computed(function(a,d){var g=b(this,"data");a=c&&c.key?c.key:a;if(d===undefined){if(!g)return;return e(g[a])}return d=f(d),this.setProperty(a,d),d}).property("data")},DS.attr.transforms={string:{from:function(a){return Ember.none(a)?null:String(a)},to:function(a){return Ember.none(a)?null:String(a)}},integer:{from:function(a){return Ember.none(a)?null:Number(a)},to:function(a){return Ember.none(a)?null:Number(a)}},"boolean":{from:function(a){return Boolean(a)},to:function(a){return Boolean(a)}},date:{from:function(a){var b=typeof a;return b==="string"||b==="number"?new Date(a):a===null||a===undefined?a:null},to:function(a){if(a instanceof Date){var b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=function(a){return a<10?"0"+a:""+a},e=a.getUTCFullYear(),f=a.getUTCMonth(),g=a.getUTCDate(),h=a.getUTCDay(),i=a.getUTCHours(),j=a.getUTCMinutes(),k=a.getUTCSeconds(),l=b[h],m=d(g),n=c[f];return l+", "+m+" "+n+" "+e+" "+d(i)+":"+d(j)+":"+d(k)+" GMT"}return a===undefined?undefined:null}}}}({}),function(a){var b=Ember.get,c=Ember.set,d=Ember.getPath;DS.Model.reopenClass({typeForAssociation:function(a){var b=this.metaForProperty(a).type;return typeof b=="string"&&(b=d(this,b,!1)||d(window,b)),b}});var e=function(a,c,d,e,f){var g=d?b(d,e):f?null:[];return f?g?a.load(c,g).id:null:g?a.loadMany(c,g).ids:[]},f=function(a,c,d,e,f){return d?b(d,e):f?null:[]},g=function(a,g,h){var i=g&&g.embedded,j=i?e:f;return Ember.computed(function(e){var f=b(this,"data"),i,k,l,m=b(this,"store");return typeof a=="string"&&(a=d(this,a,!1)||d(window,a)),e=g&&g.key?g.key:e,h?(k=j(m,a,f,e,!0),l=k?m.find(a,k):null):(i=j(m,a,f,e),l=m.findMany(a,i),c(l,"parentRecord",this)),l}).property("data").cacheable().meta({type:a})};DS.hasMany=function(a,b){return g(a,b)},DS.hasOne=function(a,b){return g(a,b,!0)}}({}),function(a){}({}),function(a){}({})
